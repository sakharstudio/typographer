!function(t){function n(n,s){this.element=n,this.settings=t.extend({},e,s),this._defaults=e,this._name=i,this.init()}var i="typographer",e={prepositions:["в","во","без","до","из","к","ко","на","по","о","от","при","с","у","не","за","над","для","об","под","про","и","а","но","да","или","ли","бы","то","что","как","я","он","мы","они","ни","же","вы","им"],nbsp:"&nbsp;"};t.extend(n.prototype,{init:function(){this.addNbsp(this.element,this.settings)},addNbsp:function(n,i){var e=i.nbsp,s=i.prepositions.map(function(t){return" "+t+" "}),p=i.prepositions.map(function(t){return"&nbsp;"+t+" "}),o=RegExp(s.join("|"),"gi"),r=RegExp(p.join("|"),"gi"),u=function(t){return t.slice(0,-1)+e};t(n).html(function(){return t(n).html().replace(o,u).replace(r,u)})}}),t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new n(this,e))}),this}}(jQuery,window,document);